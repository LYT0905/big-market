24-08-17.14:10:34.287 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=46s924ms873µs900ns).
24-08-17.14:10:34.288 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s576ms18µs700ns).
24-08-17.14:13:16.836 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m1s796ms494µs200ns).
24-08-17.14:13:16.836 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m4s905ms98µs300ns).
24-08-17.14:17:28.081 [main            ] WARN  GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'raffleController': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'strategyArmoryDispatchService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'strategyRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'IStrategyAwardDao' defined in file [C:\Users\27132\Java\big-market\big-market-infrastructure\target\classes\com\big\market\infrastructure\infrastructure\persistent\dao\IStrategyAwardDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'shardingSphereDataSource' defined in class path resource [org/apache/shardingsphere/spring/boot/ShardingSphereAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'shardingSphereDataSource' threw exception; nested exception is java.lang.IllegalStateException: Shutdown in progress
24-08-17.14:19:03.540 [scheduling-1    ] ERROR UpdateAwardStockJob    - 定时任务，更新奖品消耗库存失败
org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.InterruptedException; nested exception is org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:52)
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:35)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.redisson.spring.data.connection.RedissonConnectionFactory.translateExceptionIfPossible(RedissonConnectionFactory.java:91)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.big.market.infrastructure.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$afba16.takeQueueValue(<generated>)
	at com.big.market.infrastructure.domain.strategy.service.raffle.DefaultRaffleStrategy.takeQueueValue(DefaultRaffleStrategy.java:80)
	at com.big.market.infrastructure.trigger.job.UpdateAwardStockJob.exec(UpdateAwardStockJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:114)
	at org.redisson.RedissonObject.get(RedissonObject.java:90)
	at org.redisson.RedissonQueue.poll(RedissonQueue.java:105)
	at com.big.market.infrastructure.infrastructure.persistent.repository.StrategyRepository.takeQueueValue(StrategyRepository.java:365)
	at com.big.market.infrastructure.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$47613a41.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 21 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:347)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:110)
	... 30 common frames omitted
24-08-17.20:56:55.380 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.594 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.756 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.925 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.105 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.283 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.454 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.625 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.896 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.065 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.235 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.405 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.556 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.730 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.895 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.118 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.294 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.464 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.648 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.816 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:10.838 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:11.716 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:11.878 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:12.051 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:53.659 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:53.910 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.096 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.260 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.411 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.591 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.830 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.976 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.137 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.299 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.541 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.715 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.866 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.060 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.225 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.379 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.538 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.800 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.956 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:57.117 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.21:00:54.474 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:54.800 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:55.105 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:55.429 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:55.732 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.042 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.365 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.707 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.992 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:57.293 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:57.593 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:57.943 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:58.241 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:58.548 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:58.832 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:59.210 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:59.543 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:59.846 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:01:00.142 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:01:00.626 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:04:35.562 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=46s346ms892µs400ns).
24-08-17.21:04:35.562 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s233ms131µs300ns).
24-08-17.21:05:59.108 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:04.355 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:08.940 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:13.786 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:17.709 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:19.985 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:22.329 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:28.049 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:29.385 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:30.646 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:31.801 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:37.071 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:38.212 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:46.804 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:49.205 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:51.953 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:57.812 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:07:00.885 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:07:06.318 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:07:38.407 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:55.321 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:55.628 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:55.918 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:56.209 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:56.479 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:56.878 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:57.127 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:57.467 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:57.759 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.080 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.339 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.627 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.908 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:59.188 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:59.548 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:59.849 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:00.161 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:00.458 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:00.797 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:01.235 [main            ] WARN  RaffleOrderTest        - 活动库存不足
