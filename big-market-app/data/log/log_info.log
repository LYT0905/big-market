24-08-17.14:07:15.444 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 2280 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:07:15.445 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:07:16.967 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:07:16.973 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:07:17.040 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
24-08-17.14:07:17.605 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:07:17.620 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:07:17.934 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$3c9609f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:07:19.198 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:07:19.872 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:07:20.265 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:07:20.638 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:07:22.014 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:07:22.037 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:07:22.638 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:07:27.648 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:07:27.665 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:07:27.665 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:07:27.665 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:07:27.666 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:07:27.666 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:07:27.666 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:07:27.666 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@799bb4ed
24-08-17.14:07:27.841 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:07:27.907 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:07:27.908 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:07:27.931 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 13.029 seconds (JVM running for 14.687)
24-08-17.14:07:29.566 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            id,
            strategy_id,
            strategy_desc,
            rule_models,
            create_time,
            update_time
        from strategy
        where strategy_id = ?
24-08-17.14:07:29.566 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:07:29.567 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            id,
            strategy_id,
            strategy_desc,
            rule_models,
            create_time,
            update_time
        from strategy
        where strategy_id = ? ::: [100004]
24-08-17.14:07:29.882 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:07:30.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:07:30.094 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 101
24-08-17.14:07:30.110 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:07:30.110 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:07:30.110 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 101]
24-08-17.14:07:30.237 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            tree_name,
            tree_desc,
            tree_root_rule_key
        from rule_tree
        where tree_id = ?;
24-08-17.14:07:30.237 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:07:30.237 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            tree_name,
            tree_desc,
            tree_root_rule_key
        from rule_tree
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:07:30.304 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            rule_key,
            rule_desc,
            rule_value
        from rule_tree_node
        where tree_id = ?;
24-08-17.14:07:30.304 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:07:30.304 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            rule_key,
            rule_desc,
            rule_value
        from rule_tree_node
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:07:30.383 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            rule_node_from,
            rule_node_to,
            rule_limit_type,
            rule_limit_value
        from rule_tree_node_line
        where tree_id = ?;
24-08-17.14:07:30.383 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:07:30.384 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            rule_node_from,
            rule_node_to,
            rule_limit_type,
            rule_limit_value
        from rule_tree_node_line
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:07:30.514 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:101
24-08-17.14:07:30.515 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:07:39.383 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:07:39.384 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:101
24-08-17.14:07:49.409 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:07:49.975 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:101
24-08-17.14:07:55.376 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:08:11.594 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-17.14:08:15.723 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:08:35.637 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:08:37.438 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:lyt strategyId:100004 awardId:101 ruleValue:100:1,100
24-08-17.14:08:39.306 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-08-17.14:08:40.100 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:09:24.754 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 100 1,100
24-08-17.14:09:28.085 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:09:30.287 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:09:30.631 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:09:30.634 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":100,"sort":1}
24-08-17.14:09:30.643 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:09:30.650 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:09:30.650 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:09:30.650 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:09:30.652 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:09:30.656 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:09:30.666 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:09:30.666 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:09:30.674 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.14:09:36.734 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 9532 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:09:36.735 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:09:38.143 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:09:38.148 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:09:38.203 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
24-08-17.14:09:38.717 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:09:38.730 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:09:38.997 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$bac8830c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:09:40.169 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:09:40.817 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:09:41.184 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:09:41.544 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:09:43.228 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:09:43.248 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:09:43.890 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:09:51.056 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:09:51.078 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:09:51.079 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:09:51.079 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:09:51.080 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:09:51.080 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:09:51.080 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:09:51.081 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@150eab74
24-08-17.14:09:51.338 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:09:51.442 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:09:51.442 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:09:51.475 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 15.226 seconds (JVM running for 16.517)
24-08-17.14:09:52.447 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:09:52.634 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 101
24-08-17.14:09:53.894 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:09:53.894 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:09:53.894 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 101]
24-08-17.14:09:54.215 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:101
24-08-17.14:10:30.916 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:10:30.916 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:10:34.287 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=46s924ms873µs900ns).
24-08-17.14:10:34.288 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s576ms18µs700ns).
24-08-17.14:10:36.597 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:101
24-08-17.14:10:38.376 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:101
24-08-17.14:10:43.019 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:10:45.128 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:10:50.118 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:11:05.772 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-17.14:11:15.025 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:11:38.595 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:11:38.595 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:lyt strategyId:100004 awardId:101 ruleValue:100:1,100
24-08-17.14:12:11.932 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-08-17.14:12:16.550 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:13:16.836 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m1s796ms494µs200ns).
24-08-17.14:13:16.836 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m4s905ms98µs300ns).
24-08-17.14:13:35.876 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:13:35.877 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 100 1,100
24-08-17.14:13:40.418 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:13:40.592 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:13:40.594 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":100,"sort":1}
24-08-17.14:13:40.605 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:13:40.612 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:13:40.612 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:13:40.612 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:13:40.613 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:13:40.619 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:13:40.628 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:13:40.628 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:13:40.636 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.14:17:19.956 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 25220 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:17:19.957 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:17:21.385 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:17:21.391 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:17:21.456 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
24-08-17.14:17:21.997 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:17:22.010 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:17:22.302 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$1b843c83] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:17:23.698 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:17:24.370 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:17:24.744 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:17:25.406 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:17:26.941 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:17:26.957 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:17:27.554 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:17:28.081 [main            ] WARN  GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'raffleController': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'strategyArmoryDispatchService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'strategyRepository': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'IStrategyAwardDao' defined in file [C:\Users\27132\Java\big-market\big-market-infrastructure\target\classes\com\big\market\infrastructure\infrastructure\persistent\dao\IStrategyAwardDao.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'shardingSphereDataSource' defined in class path resource [org/apache/shardingsphere/spring/boot/ShardingSphereAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'shardingSphereDataSource' threw exception; nested exception is java.lang.IllegalStateException: Shutdown in progress
24-08-17.14:17:37.189 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 1936 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:17:37.189 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:17:38.678 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:17:38.682 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:17:38.751 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
24-08-17.14:17:39.323 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:17:39.338 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:17:39.611 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$3a931caf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:17:40.889 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:17:41.554 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:17:41.970 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:17:42.365 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:17:43.746 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:17:43.761 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:17:44.396 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:17:49.327 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:17:49.341 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:17:49.341 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:17:49.342 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:17:49.342 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:17:49.342 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:17:49.342 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:17:49.342 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@5ed52389
24-08-17.14:17:49.504 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:17:49.576 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:17:49.578 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:17:49.601 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 12.892 seconds (JVM running for 14.246)
24-08-17.14:17:50.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:17:50.728 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
24-08-17.14:17:50.728 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:17:50.728 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ? ::: [100004]
24-08-17.14:17:51.874 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            id,
            strategy_id,
            strategy_desc,
            rule_models,
            create_time,
            update_time
        from strategy
        where strategy_id = ?
24-08-17.14:17:51.875 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:17:51.875 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            id,
            strategy_id,
            strategy_desc,
            rule_models,
            create_time,
            update_time
        from strategy
        where strategy_id = ? ::: [100004]
24-08-17.14:17:52.038 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:17:52.275 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 102
24-08-17.14:17:52.287 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:17:52.287 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:17:52.287 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 102]
24-08-17.14:17:52.397 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            tree_name,
            tree_desc,
            tree_root_rule_key
        from rule_tree
        where tree_id = ?;
24-08-17.14:17:52.397 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:17:52.397 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            tree_name,
            tree_desc,
            tree_root_rule_key
        from rule_tree
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:17:52.456 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            rule_key,
            rule_desc,
            rule_value
        from rule_tree_node
        where tree_id = ?;
24-08-17.14:17:52.456 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:17:52.456 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            rule_key,
            rule_desc,
            rule_value
        from rule_tree_node
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:17:52.516 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            rule_node_from,
            rule_node_to,
            rule_limit_type,
            rule_limit_value
        from rule_tree_node_line
        where tree_id = ?;
24-08-17.14:17:52.516 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:17:52.516 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            rule_node_from,
            rule_node_to,
            rule_limit_type,
            rule_limit_value
        from rule_tree_node_line
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:17:52.648 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:102
24-08-17.14:17:52.649 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:18:12.395 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:18:12.395 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:102
24-08-17.14:18:13.857 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:102
24-08-17.14:18:15.440 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:18:20.057 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:18:24.211 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-08-17.14:18:31.156 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:18:48.768 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 102 null
24-08-17.14:18:49.934 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ?
24-08-17.14:18:49.934 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:18:49.934 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ? ::: [100004, 102]
24-08-17.14:18:50.015 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:18:55.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:18:57.367 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:19:03.500 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:19:03.503 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":102,"sort":3}
24-08-17.14:19:03.514 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:19:03.520 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:19:03.521 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:19:03.521 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:19:03.521 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:19:03.527 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:19:03.530 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:19:03.530 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:19:03.539 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.14:19:03.540 [scheduling-1    ] ERROR UpdateAwardStockJob    - 定时任务，更新奖品消耗库存失败
org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.InterruptedException; nested exception is org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:52)
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:35)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.redisson.spring.data.connection.RedissonConnectionFactory.translateExceptionIfPossible(RedissonConnectionFactory.java:91)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.big.market.infrastructure.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$afba16.takeQueueValue(<generated>)
	at com.big.market.infrastructure.domain.strategy.service.raffle.DefaultRaffleStrategy.takeQueueValue(DefaultRaffleStrategy.java:80)
	at com.big.market.infrastructure.trigger.job.UpdateAwardStockJob.exec(UpdateAwardStockJob.java:28)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
	at java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:114)
	at org.redisson.RedissonObject.get(RedissonObject.java:90)
	at org.redisson.RedissonQueue.poll(RedissonQueue.java:105)
	at com.big.market.infrastructure.infrastructure.persistent.repository.StrategyRepository.takeQueueValue(StrategyRepository.java:365)
	at com.big.market.infrastructure.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$47613a41.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 21 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:347)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:110)
	... 30 common frames omitted
24-08-17.14:19:23.984 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 13016 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:19:23.985 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:19:25.443 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:19:25.448 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:19:25.510 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
24-08-17.14:19:26.056 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:19:26.072 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:19:26.351 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$22aaa408] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:19:27.590 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:19:28.250 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:19:28.708 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:19:29.101 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:19:30.637 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:19:30.651 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:19:31.274 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:19:35.989 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:19:36.003 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:19:36.003 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:19:36.004 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:19:36.005 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:19:36.005 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:19:36.005 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:19:36.005 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@5a41183b
24-08-17.14:19:36.161 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:19:36.242 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:19:36.242 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:19:36.275 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 12.765 seconds (JVM running for 13.967)
24-08-17.14:19:37.222 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:19:37.448 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 101
24-08-17.14:19:38.168 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:19:38.169 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:19:38.169 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 101]
24-08-17.14:19:38.633 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:101
24-08-17.14:19:38.634 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:19:38.635 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:101
24-08-17.14:19:38.745 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:101
24-08-17.14:19:38.879 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0000
24-08-17.14:19:38.879 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 101 null
24-08-17.14:19:38.934 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ?
24-08-17.14:19:38.934 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:19:38.934 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ? ::: [100004, 101]
24-08-17.14:19:39.301 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:19:39.304 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":101,"sort":2}
24-08-17.14:19:39.316 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:19:39.323 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:19:39.323 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:19:39.323 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:19:39.323 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:19:39.328 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:19:39.337 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:19:39.337 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:19:39.345 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.14:20:41.782 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 1768 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:20:41.783 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:20:43.265 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:20:43.270 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:20:43.328 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
24-08-17.14:20:43.889 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:20:43.905 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:20:44.177 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$1b843c83] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:20:45.389 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:20:46.060 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:20:46.490 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:20:46.891 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:20:48.398 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:20:48.414 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:20:49.020 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:20:53.971 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:20:53.985 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:20:53.985 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:20:53.985 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:20:53.987 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:20:53.987 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:20:53.987 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:20:53.987 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1107cbd8
24-08-17.14:20:54.156 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:20:54.230 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:20:54.230 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:20:54.250 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 12.957 seconds (JVM running for 14.163)
24-08-17.14:20:55.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:20:55.306 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:20:55.573 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 101
24-08-17.14:20:56.423 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:20:56.423 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:20:56.423 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 101]
24-08-17.14:20:56.737 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:101
24-08-17.14:20:56.738 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:20:56.740 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:101
24-08-17.14:20:56.853 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:101
24-08-17.14:20:57.016 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-17.14:20:57.016 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:lyt strategyId:100004 awardId:101 ruleValue:100:1,100
24-08-17.14:20:57.016 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-08-17.14:20:57.016 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 100 1,100
24-08-17.14:20:57.084 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ?
24-08-17.14:20:57.084 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:20:57.084 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ? ::: [100004, 100]
24-08-17.14:20:57.453 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:20:57.455 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":100,"sort":1}
24-08-17.14:20:57.467 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:20:57.474 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:20:57.475 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:20:57.475 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:20:57.475 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:20:57.480 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:20:57.488 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:20:57.490 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:20:57.498 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.14:21:19.939 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 6508 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:21:19.940 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:21:21.353 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:21:21.359 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:21:21.425 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
24-08-17.14:21:21.973 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:21:21.988 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:21:22.271 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$ff91457c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:21:23.500 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:21:24.177 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:21:24.589 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:21:24.994 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:21:26.477 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:21:26.493 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:21:27.114 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:21:32.727 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:21:32.743 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:21:32.743 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:21:32.767 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:21:32.768 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:21:32.768 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:21:32.768 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:21:32.768 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@5683a326
24-08-17.14:21:32.971 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:21:33.071 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:21:33.071 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:21:33.097 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 13.654 seconds (JVM running for 14.854)
24-08-17.14:21:34.326 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
24-08-17.14:21:34.326 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:34.326 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ? ::: [100004]
24-08-17.14:21:35.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.14:21:35.482 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            id,
            strategy_id,
            strategy_desc,
            rule_models,
            create_time,
            update_time
        from strategy
        where strategy_id = ?
24-08-17.14:21:35.482 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:35.482 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            id,
            strategy_id,
            strategy_desc,
            rule_models,
            create_time,
            update_time
        from strategy
        where strategy_id = ? ::: [100004]
24-08-17.14:21:35.653 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:21:35.964 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 102
24-08-17.14:21:35.980 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:21:35.980 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:35.980 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 102]
24-08-17.14:21:36.105 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            tree_name,
            tree_desc,
            tree_root_rule_key
        from rule_tree
        where tree_id = ?;
24-08-17.14:21:36.106 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:36.106 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            tree_name,
            tree_desc,
            tree_root_rule_key
        from rule_tree
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:21:36.166 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            rule_key,
            rule_desc,
            rule_value
        from rule_tree_node
        where tree_id = ?;
24-08-17.14:21:36.166 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:36.166 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            rule_key,
            rule_desc,
            rule_value
        from rule_tree_node
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:21:36.228 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select
            tree_id,
            rule_node_from,
            rule_node_to,
            rule_limit_type,
            rule_limit_value
        from rule_tree_node_line
        where tree_id = ?;
24-08-17.14:21:36.228 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:36.228 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select
            tree_id,
            rule_node_from,
            rule_node_to,
            rule_limit_type,
            rule_limit_value
        from rule_tree_node_line
        where tree_id = ?; ::: [tree_lock]
24-08-17.14:21:36.361 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:102
24-08-17.14:21:36.363 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:21:36.363 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:102
24-08-17.14:21:36.463 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:102
24-08-17.14:21:36.618 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-17.14:21:36.618 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 102 null
24-08-17.14:21:36.671 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ?
24-08-17.14:21:36.671 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:21:36.671 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ? ::: [100004, 102]
24-08-17.14:21:37.132 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:21:37.134 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":102,"sort":3}
24-08-17.14:21:37.146 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:21:37.152 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:21:37.152 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:21:37.152 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:21:37.153 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:21:37.158 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:21:37.166 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:21:37.168 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:21:37.175 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.14:21:47.799 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 4500 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.14:21:47.800 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-08-17.14:21:49.288 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.14:21:49.292 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.14:21:49.355 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
24-08-17.14:21:49.903 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:21:49.918 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:21:50.192 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$3a931caf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.14:21:51.393 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.14:21:52.059 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:21:52.421 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.14:21:52.860 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.14:21:54.454 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.14:21:54.468 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.14:21:55.090 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.14:22:00.101 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.14:22:00.117 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.14:22:00.117 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.14:22:00.118 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.14:22:00.119 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.14:22:00.119 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.14:22:00.119 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.14:22:00.119 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@57cd5cc9
24-08-17.14:22:00.293 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.14:22:00.365 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.14:22:00.365 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.14:22:00.387 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 13.111 seconds (JVM running for 14.305)
24-08-17.14:22:01.235 [main            ] INFO  RaffleStrategyTest     - 测试结果：false
24-08-17.14:22:01.462 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: lyt strategyId: 100004 ruleModel: rule_default awardId: 104
24-08-17.14:22:02.178 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ?
24-08-17.14:22:02.178 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:22:02.192 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select rule_models
        from strategy_award
        where strategy_id = ?
          and award_id = ? ::: [100004, 104]
24-08-17.14:22:02.553 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:lyt strategyId:100004 awardId:104
24-08-17.14:22:02.554 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-08-17.14:22:02.555 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:lyt strategyId:100004 awardId:104
24-08-17.14:22:02.661 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:lyt strategyId:100004 awardId:104
24-08-17.14:22:02.816 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-08-17.14:22:02.816 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 lyt 100004 104 null
24-08-17.14:22:02.869 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ?
24-08-17.14:22:02.869 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.14:22:02.869 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select strategy_id,
               award_id,
               award_title,
               award_subtitle,
               award_count,
               award_count_surplus,
               award_rate,
               sort
        from strategy_award
        where strategy_id = ?
        and award_id = ? ::: [100004, 104]
24-08-17.14:22:03.291 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100004,"userId":"lyt"}
24-08-17.14:22:03.293 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":104,"sort":5}
24-08-17.14:22:03.307 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:22:03.315 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.14:22:03.316 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.14:22:03.316 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.14:22:03.316 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.14:22:03.322 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.14:22:03.332 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.14:22:03.332 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.14:22:03.340 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.20:56:37.974 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 26352 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.20:56:37.975 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-08-17.20:56:39.737 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.20:56:39.743 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.20:56:39.814 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
24-08-17.20:56:40.405 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:56:40.420 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:56:40.757 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$466a10e8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:56:42.262 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.20:56:42.991 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.20:56:43.401 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.20:56:43.899 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.20:56:45.437 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.20:56:45.460 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.20:56:46.221 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.20:56:51.781 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.20:56:51.800 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.20:56:51.800 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.20:56:51.801 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.20:56:51.802 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.20:56:51.802 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.20:56:51.802 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.20:56:51.802 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@35b5056e
24-08-17.20:56:51.972 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.20:56:52.115 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-17.20:56:52.445 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4d5d6297:0/SimpleConnection@53785d1a [delegate=amqp://admin@8.138.41.137:5672/, localPort= 61257]
24-08-17.20:56:52.897 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.20:56:52.898 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.20:56:52.915 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 15.524 seconds (JVM running for 16.928)
24-08-17.20:56:54.266 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?;
24-08-17.20:56:54.266 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.20:56:54.266 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?; ::: [9011]
24-08-17.20:56:54.767 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?;
24-08-17.20:56:54.767 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.20:56:54.767 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?; ::: [101]
24-08-17.20:56:54.963 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?;
24-08-17.20:56:54.964 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.20:56:54.964 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?; ::: [101]
24-08-17.20:56:55.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:56:55.065 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:56:55.081 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-08-17.20:56:55.168 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252309
24-08-17.20:56:55.378 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:55.380 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.381 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252398
24-08-17.20:56:55.593 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:55.594 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.594 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252487
24-08-17.20:56:55.755 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:55.756 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.756 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252555
24-08-17.20:56:55.925 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:55.925 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:55.925 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252626
24-08-17.20:56:56.105 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:56.105 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.105 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252702
24-08-17.20:56:56.283 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:56.283 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.283 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252776
24-08-17.20:56:56.454 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:56.454 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.454 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252848
24-08-17.20:56:56.624 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:56.625 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.625 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479252920
24-08-17.20:56:56.896 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:56.896 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:56.896 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253034
24-08-17.20:56:57.065 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:57.065 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.065 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253104
24-08-17.20:56:57.234 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:57.235 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.235 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253176
24-08-17.20:56:57.405 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:57.405 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.405 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253247
24-08-17.20:56:57.555 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:57.556 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.556 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253310
24-08-17.20:56:57.730 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:57.730 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.730 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253383
24-08-17.20:56:57.894 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:57.895 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:57.895 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253453
24-08-17.20:56:58.117 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:58.118 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.118 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253546
24-08-17.20:56:58.294 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:58.294 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.294 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253620
24-08-17.20:56:58.464 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:58.464 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.464 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253691
24-08-17.20:56:58.647 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:58.648 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:56:58.648 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479253768
24-08-17.20:56:58.816 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:56:58.816 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:57:00.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:00.061 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:05.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:05.061 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:10.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:10.060 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:15.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:15.064 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:20.016 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:20.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:25.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:25.050 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:30.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:30.049 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:35.005 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:35.048 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:40.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:40.074 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:57:40.351 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.20:57:40.351 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-17.20:57:40.411 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-17.20:57:40.412 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.20:57:40.413 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.20:57:40.413 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.20:57:40.413 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.20:57:40.417 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-17.20:57:40.475 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.20:57:40.484 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.20:57:40.484 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.20:57:40.492 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.20:58:44.410 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 6836 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.20:58:44.412 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-08-17.20:58:46.395 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.20:58:46.401 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.20:58:46.468 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
24-08-17.20:58:47.091 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:58:47.107 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:58:47.389 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$b8e78514] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:58:48.677 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.20:58:49.487 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.20:58:49.907 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.20:58:50.405 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.20:58:51.950 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.20:58:51.966 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.20:58:52.625 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.20:58:58.286 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.20:58:58.304 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.20:58:58.304 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.20:58:58.305 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.20:58:58.306 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.20:58:58.306 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.20:58:58.306 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.20:58:58.306 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@3c9e169f
24-08-17.20:58:58.484 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.20:58:58.622 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-17.20:58:58.954 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#442e7215:0/SimpleConnection@1dd17c0c [delegate=amqp://admin@8.138.41.137:5672/, localPort= 61416]
24-08-17.20:58:59.324 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.20:58:59.324 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.20:58:59.343 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 15.578 seconds (JVM running for 16.966)
24-08-17.20:58:59.974 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-08-17.20:59:00.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:59:00.032 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479304681
24-08-17.20:59:00.062 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:59:00.277 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:10.835 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:59:10.838 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:10.838 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479309213
24-08-17.20:59:10.888 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:59:11.029 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:11.716 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:11.716 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479309581
24-08-17.20:59:11.829 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.20:59:11.829 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-17.20:59:11.877 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:11.878 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:11.878 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479309649
24-08-17.20:59:11.905 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-17.20:59:11.907 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.20:59:11.907 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.20:59:11.907 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.20:59:11.908 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.20:59:11.910 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-17.20:59:11.970 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.20:59:11.980 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.20:59:11.980 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.20:59:11.990 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.20:59:12.050 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:12.051 [main            ] WARN  RaffleOrderTest        - 活动未开启（非open状态）
24-08-17.20:59:12.051 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479309722
24-08-17.20:59:35.069 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 27596 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.20:59:35.070 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-08-17.20:59:36.829 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.20:59:36.835 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.20:59:36.902 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
24-08-17.20:59:37.487 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:59:37.506 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:59:37.802 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$23378c65] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.20:59:39.053 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.20:59:39.781 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.20:59:40.245 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.20:59:40.698 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.20:59:42.381 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.20:59:42.396 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.20:59:43.121 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.20:59:49.258 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.20:59:49.285 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.20:59:49.286 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.20:59:49.287 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.20:59:49.288 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.20:59:49.288 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.20:59:49.288 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.20:59:49.288 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@3938e876
24-08-17.20:59:49.543 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.20:59:49.728 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-17.20:59:50.097 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#109941fa:0/SimpleConnection@7cb15360 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 61536]
24-08-17.20:59:50.552 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.20:59:50.553 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.20:59:50.584 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 16.083 seconds (JVM running for 17.328)
24-08-17.20:59:52.377 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?;
24-08-17.20:59:52.377 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.20:59:52.378 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?; ::: [9011]
24-08-17.20:59:52.990 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?;
24-08-17.20:59:52.990 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.20:59:52.991 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?; ::: [101]
24-08-17.20:59:53.180 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?;
24-08-17.20:59:53.182 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.20:59:53.182 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?; ::: [101]
24-08-17.20:59:53.329 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-08-17.20:59:53.428 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327076
24-08-17.20:59:53.658 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:53.659 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:53.659 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327173
24-08-17.20:59:53.910 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:53.910 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:53.910 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327279
24-08-17.20:59:54.096 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:54.096 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.096 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327357
24-08-17.20:59:54.260 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:54.260 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.261 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327425
24-08-17.20:59:54.411 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:54.411 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.411 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327489
24-08-17.20:59:54.591 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:54.591 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.591 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327564
24-08-17.20:59:54.830 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:54.830 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.830 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327665
24-08-17.20:59:54.976 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:54.976 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:54.976 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327726
24-08-17.20:59:55.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:59:55.083 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.20:59:55.137 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:55.137 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.137 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327793
24-08-17.20:59:55.298 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:55.299 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.299 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327861
24-08-17.20:59:55.541 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:55.541 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.542 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479327963
24-08-17.20:59:55.715 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:55.715 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.715 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328036
24-08-17.20:59:55.865 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:55.866 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:55.866 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328099
24-08-17.20:59:56.060 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:56.060 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.060 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328180
24-08-17.20:59:56.225 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:56.225 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.225 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328250
24-08-17.20:59:56.379 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:56.379 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.379 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328314
24-08-17.20:59:56.538 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:56.538 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.538 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328381
24-08-17.20:59:56.800 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:56.800 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.800 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328491
24-08-17.20:59:56.955 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:56.956 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.20:59:56.956 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479328556
24-08-17.20:59:57.117 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.20:59:57.117 [main            ] WARN  RaffleOrderTest        - 非活动日期范围
24-08-17.21:00:00.012 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:00.184 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:05.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:05.049 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:10.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:10.055 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:13.109 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:00:13.109 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-17.21:00:13.809 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-17.21:00:13.810 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.21:00:13.810 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.21:00:13.810 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:00:13.810 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.21:00:13.813 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-17.21:00:13.871 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.21:00:13.879 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.21:00:13.879 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.21:00:13.887 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.21:00:37.994 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 19976 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.21:00:37.995 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-08-17.21:00:39.609 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.21:00:39.615 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.21:00:39.685 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
24-08-17.21:00:40.273 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:00:40.291 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:00:40.591 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$90e40d37] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:00:41.851 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.21:00:42.505 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.21:00:42.936 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.21:00:43.304 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.21:00:44.655 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.21:00:44.671 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.21:00:45.475 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.21:00:50.720 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.21:00:50.738 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.21:00:50.738 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.21:00:50.739 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.21:00:50.740 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.21:00:50.740 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.21:00:50.740 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.21:00:50.740 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4b6c5fa2
24-08-17.21:00:50.923 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.21:00:51.064 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-17.21:00:51.382 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7e3062f0:0/SimpleConnection@23c95292 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 61650]
24-08-17.21:00:51.817 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.21:00:51.817 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.21:00:51.835 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 14.337 seconds (JVM running for 15.549)
24-08-17.21:00:52.877 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?;
24-08-17.21:00:52.878 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:00:52.878 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?; ::: [9011]
24-08-17.21:00:53.578 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?;
24-08-17.21:00:53.578 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:00:53.578 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?; ::: [101]
24-08-17.21:00:53.808 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?;
24-08-17.21:00:53.808 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:00:53.808 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?; ::: [101]
24-08-17.21:00:53.928 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-08-17.21:00:53.983 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479352475
24-08-17.21:00:54.227 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:54.227 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:54.328 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:54.474 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:54.474 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479352681
24-08-17.21:00:54.619 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:54.619 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:54.734 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:54.800 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:54.801 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479352818
24-08-17.21:00:54.954 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:54.955 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:55.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:55.051 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:55.059 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:00:55.105 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:55.106 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479352946
24-08-17.21:00:55.233 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:55.233 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:55.336 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:55.429 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:55.430 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353082
24-08-17.21:00:55.570 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:55.570 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:55.676 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:55.732 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:55.732 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353209
24-08-17.21:00:55.876 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:55.876 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:55.986 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:56.042 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.042 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353339
24-08-17.21:00:56.194 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:56.195 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:56.312 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:56.365 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.365 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353474
24-08-17.21:00:56.522 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:56.522 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:56.653 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:56.707 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.707 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353618
24-08-17.21:00:56.843 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:56.844 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:56.937 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:56.992 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:56.992 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353737
24-08-17.21:00:57.122 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:57.122 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:57.242 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:57.293 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:57.293 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353863
24-08-17.21:00:57.455 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:57.455 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:57.542 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:57.593 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:57.593 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479353989
24-08-17.21:00:57.745 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:57.745 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:57.887 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:57.943 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:57.943 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354136
24-08-17.21:00:58.084 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:58.084 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:58.193 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:58.241 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:58.241 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354261
24-08-17.21:00:58.384 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:58.384 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:58.492 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:58.548 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:58.549 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354390
24-08-17.21:00:58.674 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:58.674 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:58.771 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:58.832 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:58.832 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354509
24-08-17.21:00:58.997 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:58.997 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:59.151 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:59.210 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:59.211 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354668
24-08-17.21:00:59.380 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:59.380 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:59.478 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:59.543 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:59.544 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354808
24-08-17.21:00:59.679 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:59.679 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:00:59.781 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:00:59.846 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:00:59.847 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479354935
24-08-17.21:00:59.994 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:00:59.994 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:01:00.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:00.056 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:00.088 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:01:00.100 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:00.101 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:00.101 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:00.142 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:01:00.143 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479355059
24-08-17.21:01:00.247 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:00.285 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:01:00.285 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:01:00.343 [main            ] INFO  SnowflakeUUIDUtils     - 11位数字的UUID:18247935514
24-08-17.21:01:00.625 [main            ] INFO  EventPublisher         - 发送 MQ 消息 topic:activity_sku_stock_zero, message:{"data":9011,"id":"18247935514","timeStamp":"2024-08-17 21:01:00.343"}
24-08-17.21:01:00.626 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:01:00.694 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ActivitySkuStockZeroCustomer - 监听活动sku库存消耗为0消息 topic: activity_sku_stock_zero message: {"data":9011,"id":"18247935514","timeStamp":"2024-08-17 21:01:00.343"}
24-08-17.21:01:00.725 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = 0 and update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:00.725 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:00.725 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = 0 and update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:05.016 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:05.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:05.065 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:05.065 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:05.065 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:05.232 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:10.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:10.069 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:10.069 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:10.070 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:10.070 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:10.208 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:15.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:15.058 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:15.109 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:15.110 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:15.110 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:15.110 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:20.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:20.069 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:20.070 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:20.070 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:20.070 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:20.243 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:25.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:25.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:25.104 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:25.105 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:25.105 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:25.105 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:30.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:30.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:30.104 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:30.105 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:30.105 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:30.105 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:35.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:35.068 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:35.069 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:35.069 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:35.069 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:35.209 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:40.015 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:40.063 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:40.113 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:01:40.114 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:01:40.114 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:01:40.114 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:01:45.016 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:45.064 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:50.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:50.053 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:55.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:01:55.053 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:00.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:00.058 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:05.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:05.063 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:10.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:10.096 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:15.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:15.053 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:20.002 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:20.052 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:25.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:25.052 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:30.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:30.057 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:35.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:35.063 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:40.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:40.073 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:45.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:45.073 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:50.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:50.066 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:55.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:02:55.079 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:00.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:00.093 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:05.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:05.060 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:10.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:10.061 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:15.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:15.056 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:03:18.544 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:03:18.544 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-17.21:03:19.154 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-17.21:03:19.156 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.21:03:19.156 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.21:03:19.156 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:03:19.156 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.21:03:19.157 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-17.21:03:19.297 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.21:03:19.306 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.21:03:19.306 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.21:03:19.314 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.21:03:41.181 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 23720 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.21:03:41.182 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-08-17.21:03:42.864 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.21:03:42.871 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.21:03:42.954 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 0 Redis repository interfaces.
24-08-17.21:03:43.650 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:03:43.665 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:03:43.956 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$6331f5f8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:03:45.233 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.21:03:45.903 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.21:03:46.332 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.21:03:46.759 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.21:03:48.222 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.21:03:48.236 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.21:03:49.110 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.21:03:54.580 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.21:03:54.597 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.21:03:54.598 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.21:03:54.598 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.21:03:54.599 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.21:03:54.599 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.21:03:54.599 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.21:03:54.599 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@56f1db5f
24-08-17.21:03:54.806 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.21:03:54.934 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-17.21:03:55.250 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7f027735:0/SimpleConnection@2394fad2 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 61878]
24-08-17.21:03:55.636 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.21:03:55.636 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.21:03:55.657 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 15.02 seconds (JVM running for 16.335)
24-08-17.21:03:56.882 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?;
24-08-17.21:03:56.882 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:03:56.882 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?; ::: [9011]
24-08-17.21:03:57.568 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?;
24-08-17.21:03:57.568 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:03:57.569 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?; ::: [101]
24-08-17.21:03:57.830 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?;
24-08-17.21:03:57.830 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:03:57.830 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?; ::: [101]
24-08-17.21:03:57.948 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-08-17.21:03:58.014 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479429663
24-08-17.21:04:02.999 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:04:06.347 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:04:35.561 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:04:35.562 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=46s346ms892µs400ns).
24-08-17.21:04:35.562 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s233ms131µs300ns).
24-08-17.21:04:35.619 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:04:45.272 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:04:58.251 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:04:58.250 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:05:06.081 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:06.697 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:05:15.986 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:21.689 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:22.458 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:29.543 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:40.273 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:05:41.166 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:45.611 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:45.669 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:50.054 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:50.122 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:59.105 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:05:59.108 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:05:59.108 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479480454
24-08-17.21:06:01.526 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:01.564 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:01.564 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:01.564 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:02.125 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:02.908 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:02.908 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:04.292 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:04.355 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:04.355 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479482655
24-08-17.21:06:05.481 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:05.535 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:06.182 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:06.896 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:08.886 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:08.940 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:08.940 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479484578
24-08-17.21:06:10.162 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:10.162 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:10.831 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:12.479 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:13.673 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:13.675 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:13.675 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:13.675 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:13.734 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:13.786 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:13.786 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479486610
24-08-17.21:06:15.598 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:16.355 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:16.999 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:17.655 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:17.709 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:17.709 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479488256
24-08-17.21:06:19.046 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:19.444 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:19.928 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:19.985 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:19.985 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479489210
24-08-17.21:06:20.600 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:21.117 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:21.159 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:21.160 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:21.160 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:21.160 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:21.323 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:21.661 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:22.272 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:22.329 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:22.329 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479490193
24-08-17.21:06:23.960 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:24.944 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:26.924 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:26.984 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:27.995 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:27.995 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:27.996 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:27.996 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:27.996 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:28.049 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:28.050 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479492593
24-08-17.21:06:28.940 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:29.096 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:29.334 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:29.385 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:29.385 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479493153
24-08-17.21:06:30.071 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:30.071 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:30.245 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:30.516 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:30.560 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:30.562 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:30.562 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:30.562 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:30.584 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:30.646 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:30.647 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479493682
24-08-17.21:06:31.334 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:31.496 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:31.754 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:31.801 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:31.801 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479494166
24-08-17.21:06:33.737 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:34.508 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:35.791 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:35.837 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:35.837 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:35.837 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:35.837 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:36.962 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:37.071 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:37.071 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479496377
24-08-17.21:06:37.389 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:37.722 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:37.889 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:38.165 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:38.212 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:38.213 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479496856
24-08-17.21:06:40.526 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:40.585 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:40.626 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:40.626 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:40.626 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:40.626 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:42.871 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:44.222 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:46.674 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:46.743 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:46.804 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:46.804 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479500459
24-08-17.21:06:47.903 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:48.364 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:49.155 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:49.205 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:49.205 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479501466
24-08-17.21:06:50.064 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:50.179 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:50.180 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:50.180 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:50.180 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:50.852 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:51.244 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:51.801 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:51.906 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:51.953 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:51.954 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479502619
24-08-17.21:06:53.684 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:54.524 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:06:56.104 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:56.164 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:06:57.594 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:06:57.595 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:06:57.595 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:06:57.754 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:06:57.812 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:06:57.812 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479505076
24-08-17.21:06:58.667 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:06:59.272 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:06:59.781 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:07:00.729 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:00.785 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:07:00.785 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:07:00.785 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:07:00.785 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:07:00.822 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:07:00.885 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:07:00.885 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479506365
24-08-17.21:07:01.849 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:02.667 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:07:03.433 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:07:06.208 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:06.256 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:06.263 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:07:06.303 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:07:06.304 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:07:06.304 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:07:06.304 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:07:06.318 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:07:06.318 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479508644
24-08-17.21:07:08.608 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:07:09.477 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:07:10.855 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:17.629 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:17.633 [main            ] INFO  SnowflakeUUIDUtils     - 11位数字的UUID:18247951339
24-08-17.21:07:20.071 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:07:20.074 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:07:20.074 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:07:20.074 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:07:20.260 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:28.365 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:28.423 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:07:28.424 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:07:28.424 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:07:28.424 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:07:29.122 [main            ] INFO  EventPublisher         - 发送 MQ 消息 topic:activity_sku_stock_zero, message:{"data":9011,"id":"18247951339","timeStamp":"2024-08-17 21:07:17.633"}
24-08-17.21:07:38.407 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:07:38.407 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:38.417 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ActivitySkuStockZeroCustomer - 监听活动sku库存消耗为0消息 topic: activity_sku_stock_zero message: {"data":9011,"id":"18247951339","timeStamp":"2024-08-17 21:07:17.633"}
24-08-17.21:07:38.448 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = 0 and update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:07:38.450 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:07:38.450 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = 0 and update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:07:40.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:40.055 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:45.016 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:45.065 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:50.001 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:50.058 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:55.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:07:55.085 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:00.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:00.062 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:05.015 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:05.072 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:10.015 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:10.065 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:15.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:15.058 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:20.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:20.058 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:25.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:25.066 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:30.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:30.055 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:35.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:35.083 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:40.012 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:40.069 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:45.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:45.053 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:50.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:50.053 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:55.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:08:55.074 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:00.008 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:00.054 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:05.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:05.056 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:10.016 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:10.066 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:15.011 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:15.063 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:20.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:20.053 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:25.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:25.057 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:30.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:30.056 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:35.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:35.062 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:40.000 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:40.060 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:45.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:45.063 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:50.014 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:50.071 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:55.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:09:55.054 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:00.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:00.054 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:05.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:05.054 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:10.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:10.066 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:11.494 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:10:11.494 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-17.21:10:11.945 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-17.21:10:11.947 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.21:10:11.947 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.21:10:11.947 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:10:11.948 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.21:10:11.949 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-17.21:10:12.076 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.21:10:12.086 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.21:10:12.086 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.21:10:12.095 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-17.21:10:33.672 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 27028 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-17.21:10:33.675 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
24-08-17.21:10:35.154 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-17.21:10:35.157 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-17.21:10:35.217 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
24-08-17.21:10:35.781 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:10:35.797 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:10:36.104 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$476f9839] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-17.21:10:37.389 [main            ] INFO  Version                - Redisson 3.23.4
24-08-17.21:10:38.080 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.21:10:38.491 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-17.21:10:38.917 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-17.21:10:40.392 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-17.21:10:40.406 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-17.21:10:41.173 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-17.21:10:46.191 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-17.21:10:46.207 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-17.21:10:46.207 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-17.21:10:46.208 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-17.21:10:46.209 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-17.21:10:46.209 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-17.21:10:46.209 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-17.21:10:46.209 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6bbf282d
24-08-17.21:10:46.396 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-17.21:10:46.539 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-17.21:10:46.845 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#610115e8:0/SimpleConnection@64514009 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 62093]
24-08-17.21:10:47.269 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-17.21:10:47.270 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-17.21:10:47.288 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 14.119 seconds (JVM running for 15.409)
24-08-17.21:10:48.509 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?;
24-08-17.21:10:48.509 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:10:48.509 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               sku,
               activity_id,
               activity_count_id,
               stock_count,
               stock_count_surplus,
               create_time,
               update_time
        from raffle_activity_sku where sku = ?; ::: [9011]
24-08-17.21:10:49.038 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?;
24-08-17.21:10:49.039 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:10:49.039 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_id,
               activity_name,
               activity_desc,
               begin_date_time,
               end_date_time,
               stock_count,
               stock_count_surplus,
               activity_count_id,
               strategy_id,
               `state`,
               create_time,
               update_time
        from raffle_activity where activity_id = ?; ::: [101]
24-08-17.21:10:49.237 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?;
24-08-17.21:10:49.237 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-17.21:10:49.237 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
               activity_count_id,
               total_count,
               day_count,
               month_count,
               create_time,
               update_time
        from raffle_activity_count where activity_count_id = ?; ::: [101]
24-08-17.21:10:49.390 [main            ] INFO  RaffleOrderTest        - 装配活动：true
24-08-17.21:10:49.445 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479602230
24-08-17.21:10:54.859 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:54.917 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:55.003 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:55.072 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:10:55.073 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:55.074 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:55.178 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:55.321 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:55.321 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479604695
24-08-17.21:10:55.492 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:55.492 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:55.580 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:55.628 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:55.628 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479604823
24-08-17.21:10:55.771 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:55.771 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:55.867 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:55.918 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:55.918 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479604945
24-08-17.21:10:56.079 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:56.079 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:56.159 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:56.209 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:56.209 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605067
24-08-17.21:10:56.350 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:56.351 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:56.430 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:56.479 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:56.479 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605180
24-08-17.21:10:56.610 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:56.610 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:56.825 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:56.878 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:56.878 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605348
24-08-17.21:10:56.997 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:56.997 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:57.080 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:57.127 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:57.128 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605452
24-08-17.21:10:57.310 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:57.310 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:57.418 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:57.467 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:57.467 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605595
24-08-17.21:10:57.609 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:57.609 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:57.708 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:57.759 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:57.759 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605717
24-08-17.21:10:57.930 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:57.931 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:58.029 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:58.080 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.080 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605852
24-08-17.21:10:58.201 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:58.201 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:58.281 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:58.339 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.339 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479605960
24-08-17.21:10:58.480 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:58.480 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:58.578 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:58.627 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.628 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606082
24-08-17.21:10:58.770 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:58.770 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:58.853 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:58.908 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:58.908 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606199
24-08-17.21:10:59.049 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:59.049 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:59.129 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:59.188 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:59.188 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606316
24-08-17.21:10:59.400 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:59.400 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:59.497 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:59.548 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:59.548 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606467
24-08-17.21:10:59.691 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:59.691 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:10:59.797 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:10:59.849 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:10:59.849 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606594
24-08-17.21:10:59.981 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:10:59.982 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:11:00.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:00.060 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:00.106 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:11:00.107 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存 sku:9011 activityId:101
24-08-17.21:11:00.144 [scheduling-1    ] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:11:00.144 [scheduling-1    ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:11:00.144 [scheduling-1    ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = stock_count_surplus - 1, update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:11:00.161 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:00.161 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606725
24-08-17.21:11:00.299 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:11:00.301 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:11:00.401 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:11:00.458 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:00.458 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606849
24-08-17.21:11:00.648 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:11:00.648 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:11:00.745 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】成功。sku:9011 activityId:101
24-08-17.21:11:00.797 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:00.797 [main            ] INFO  SnowflakeUUIDUtils     - 12位数字的UUID:182479606991
24-08-17.21:11:00.931 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态、库存(sku)】校验开始。sku:9011 activityId:101
24-08-17.21:11:00.931 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【有效期、状态、库存(sku)】开始。sku:9011 activityId:101
24-08-17.21:11:00.986 [main            ] INFO  SnowflakeUUIDUtils     - 11位数字的UUID:18247960707
24-08-17.21:11:01.234 [main            ] INFO  EventPublisher         - 发送 MQ 消息 topic:activity_sku_stock_zero, message:{"data":9011,"id":"18247960707","timeStamp":"2024-08-17 21:11:00.986"}
24-08-17.21:11:01.235 [main            ] WARN  RaffleOrderTest        - 活动库存不足
24-08-17.21:11:01.298 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ActivitySkuStockZeroCustomer - 监听活动sku库存消耗为0消息 topic: activity_sku_stock_zero message: {"data":9011,"id":"18247960707","timeStamp":"2024-08-17 21:11:00.986"}
24-08-17.21:11:01.328 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_sku
        set stock_count_surplus = 0 and update_time = now()
        where sku = ? and stock_count_surplus > 0;
24-08-17.21:11:01.329 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
24-08-17.21:11:01.329 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: update raffle_activity_sku
        set stock_count_surplus = 0 and update_time = now()
        where sku = ? and stock_count_surplus > 0; ::: [9011]
24-08-17.21:11:05.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:05.078 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:10.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:10.061 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:15.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:15.064 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:20.006 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:20.055 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:25.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:25.070 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:30.013 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:30.060 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:35.013 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:35.059 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:40.013 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:40.081 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:45.007 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:45.059 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:50.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:50.061 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-17.21:11:51.230 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-17.21:11:51.230 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:11:52.131 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-17.21:11:52.132 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-17.21:11:52.132 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-17.21:11:52.132 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-17.21:11:52.132 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-17.21:11:52.135 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-17.21:11:52.274 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-17.21:11:52.283 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-17.21:11:52.283 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-17.21:11:52.291 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-18.14:03:38.600 [main            ] INFO  TaskTest               - Starting TaskTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 25768 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-18.14:03:38.601 [main            ] INFO  TaskTest               - The following 1 profile is active: "dev"
24-08-18.14:03:40.410 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-18.14:03:40.417 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-18.14:03:40.487 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
24-08-18.14:03:41.089 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:03:41.106 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:03:41.439 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$a886c782] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:03:42.799 [main            ] INFO  Version                - Redisson 3.23.4
24-08-18.14:03:43.503 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:03:43.875 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:03:44.340 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-18.14:03:45.683 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-18.14:03:45.706 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-18.14:03:46.320 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-18.14:03:51.499 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-18.14:03:51.517 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-18.14:03:51.517 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-18.14:03:51.518 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-18.14:03:51.518 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-18.14:03:51.518 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-18.14:03:51.518 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-18.14:03:51.519 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@38388639
24-08-18.14:03:51.680 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-18.14:03:51.804 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-18.14:03:52.110 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1ea482b4:0/SimpleConnection@7b9661d4 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 62475]
24-08-18.14:03:52.460 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-18.14:03:52.460 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-18.14:03:52.478 [main            ] INFO  TaskTest               - Started TaskTest in 14.425 seconds (JVM running for 16.162)
24-08-18.14:03:53.715 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
            topic,
            message,
            state,
            create_time,
            update_time
        from task;
24-08-18.14:03:53.715 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-18.14:03:53.715 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            topic,
            message,
            state,
            create_time,
            update_time
        from task ORDER BY id ASC ;
24-08-18.14:03:53.715 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            topic,
            message,
            state,
            create_time,
            update_time
        from task ORDER BY id ASC ;
24-08-18.14:03:54.200 [main            ] INFO  TaskTest               - 任务表数据有:[]
24-08-18.14:03:54.263 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:03:54.264 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-18.14:03:54.603 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-18.14:03:54.604 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-18.14:03:54.604 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-18.14:03:54.604 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:03:54.605 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-18.14:03:54.606 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-18.14:03:54.665 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-18.14:03:54.673 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-18.14:03:54.673 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-18.14:03:54.680 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-18.14:10:59.795 [main            ] INFO  UserAwardRecordTest    - Starting UserAwardRecordTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 19508 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-18.14:10:59.796 [main            ] INFO  UserAwardRecordTest    - The following 1 profile is active: "dev"
24-08-18.14:11:01.353 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-18.14:11:01.358 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-18.14:11:01.424 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
24-08-18.14:11:01.974 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:11:01.989 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:11:02.260 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$8169bb17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:11:03.419 [main            ] INFO  Version                - Redisson 3.23.4
24-08-18.14:11:04.046 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:11:04.374 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:11:04.812 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-18.14:11:06.091 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-18.14:11:06.106 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-18.14:11:06.698 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-18.14:11:11.406 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-18.14:11:11.421 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-18.14:11:11.421 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-18.14:11:11.422 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-18.14:11:11.423 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-18.14:11:11.423 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-18.14:11:11.423 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-18.14:11:11.423 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@5891bd6d
24-08-18.14:11:11.579 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-18.14:11:11.708 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-18.14:11:11.991 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2380e8d4:0/SimpleConnection@7bec83d5 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 62646]
24-08-18.14:11:12.336 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-18.14:11:12.337 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-18.14:11:12.352 [main            ] INFO  UserAwardRecordTest    - Started UserAwardRecordTest in 13.034 seconds (JVM running for 14.238)
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record;
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record_0 ORDER BY id ASC ;
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record_1 ORDER BY id ASC ;
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record_2 ORDER BY id ASC ;
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record_0 ORDER BY id ASC ;
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record_1 ORDER BY id ASC ;
24-08-18.14:11:13.385 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            strategy_id,
            order_id,
            award_id,
            award_title,
            award_time,
            award_state,
            create_time,
            update_time
        from user_award_record_2 ORDER BY id ASC ;
24-08-18.14:11:13.942 [main            ] INFO  UserAwardRecordTest    - 用户中奖记录有:[]
24-08-18.14:11:14.002 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:11:14.002 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-18.14:11:14.402 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-18.14:11:14.403 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-18.14:11:14.403 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-18.14:11:14.403 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:11:14.404 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-18.14:11:14.405 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-18.14:11:14.464 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-18.14:11:14.473 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-18.14:11:14.473 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-18.14:11:14.495 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-18.14:16:36.295 [main            ] INFO  UserRaffleOrderTest    - Starting UserRaffleOrderTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 8780 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-18.14:16:36.296 [main            ] INFO  UserRaffleOrderTest    - The following 1 profile is active: "dev"
24-08-18.14:16:37.841 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-18.14:16:37.846 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-18.14:16:37.908 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
24-08-18.14:16:38.456 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:16:38.474 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:16:38.746 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$d9006dfb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:16:39.961 [main            ] INFO  Version                - Redisson 3.23.4
24-08-18.14:16:40.604 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:16:40.977 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:16:41.419 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-18.14:16:42.823 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-18.14:16:42.836 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-18.14:16:43.496 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-18.14:16:48.403 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-18.14:16:48.417 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-18.14:16:48.417 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-18.14:16:48.418 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-18.14:16:48.418 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-18.14:16:48.418 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-18.14:16:48.418 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-18.14:16:48.418 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@57082d16
24-08-18.14:16:48.569 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-18.14:16:48.686 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-18.14:16:48.981 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#53b5356:0/SimpleConnection@5434de8 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 62793]
24-08-18.14:16:49.324 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-18.14:16:49.324 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-18.14:16:49.341 [main            ] INFO  UserRaffleOrderTest    - Started UserRaffleOrderTest in 13.535 seconds (JVM running for 14.689)
24-08-18.14:16:50.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-18.14:16:50.284 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order;
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order_0 ORDER BY id ASC ;
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order_1 ORDER BY id ASC ;
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order_2 ORDER BY id ASC ;
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order_0 ORDER BY id ASC ;
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order_1 ORDER BY id ASC ;
24-08-18.14:16:50.462 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            activity_name,
            strategy_id,
            order_id,
            order_time,
            order_state,
            create_time,
            update_time
        from user_raffle_order_2 ORDER BY id ASC ;
24-08-18.14:16:51.029 [main            ] INFO  UserRaffleOrderTest    - 用户抽奖订单有:[]
24-08-18.14:16:51.094 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-18.14:16:51.094 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:16:51.385 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-18.14:16:51.386 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-18.14:16:51.386 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-18.14:16:51.386 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:16:51.387 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-18.14:16:51.388 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-18.14:16:51.446 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-18.14:16:51.454 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-18.14:16:51.455 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-18.14:16:51.462 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-18.14:23:52.498 [main            ] INFO  RaffleActivityAccountDayTest - Starting RaffleActivityAccountDayTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 21204 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-18.14:23:52.499 [main            ] INFO  RaffleActivityAccountDayTest - The following 1 profile is active: "dev"
24-08-18.14:23:54.297 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-18.14:23:54.301 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-18.14:23:54.367 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
24-08-18.14:23:54.956 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:23:54.971 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:23:55.248 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$c19329a6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:23:56.545 [main            ] INFO  Version                - Redisson 3.23.4
24-08-18.14:23:57.207 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:23:57.608 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:23:58.032 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-18.14:23:59.598 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-18.14:23:59.613 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-18.14:24:00.226 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-18.14:24:05.210 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-18.14:24:05.223 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-18.14:24:05.223 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-18.14:24:05.224 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-18.14:24:05.225 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-18.14:24:05.225 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-18.14:24:05.225 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-18.14:24:05.225 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@3a1eb893
24-08-18.14:24:05.378 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-18.14:24:05.502 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-18.14:24:05.820 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2380e8d4:0/SimpleConnection@bb0dcb6 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 62979]
24-08-18.14:24:06.205 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-18.14:24:06.205 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-18.14:24:06.226 [main            ] INFO  RaffleActivityAccountDayTest - Started RaffleActivityAccountDayTest in 14.215 seconds (JVM running for 15.52)
24-08-18.14:24:07.299 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day;
24-08-18.14:24:07.299 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-18.14:24:07.300 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day_0 ORDER BY id ASC ;
24-08-18.14:24:07.300 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day_1 ORDER BY id ASC ;
24-08-18.14:24:07.300 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day_2 ORDER BY id ASC ;
24-08-18.14:24:07.300 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day_0 ORDER BY id ASC ;
24-08-18.14:24:07.300 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day_1 ORDER BY id ASC ;
24-08-18.14:24:07.300 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            `day`,
            day_count,
            day_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_day_2 ORDER BY id ASC ;
24-08-18.14:24:07.878 [main            ] INFO  RaffleActivityAccountDayTest - 抽奖活动账户表-日次数表记录有:[]
24-08-18.14:24:07.944 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:24:07.944 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-18.14:24:08.275 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-18.14:24:08.277 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-18.14:24:08.277 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-18.14:24:08.277 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:24:08.278 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-18.14:24:08.279 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-18.14:24:08.338 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-18.14:24:08.349 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-18.14:24:08.349 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-18.14:24:08.357 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-18.14:29:12.044 [main            ] INFO  RaffleActivityAccountMonthTest - Starting RaffleActivityAccountMonthTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 6900 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-18.14:29:12.045 [main            ] INFO  RaffleActivityAccountMonthTest - The following 1 profile is active: "dev"
24-08-18.14:29:13.594 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-18.14:29:13.600 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-18.14:29:13.668 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
24-08-18.14:29:14.252 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:29:14.268 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:29:14.553 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$826b55e5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:29:15.728 [main            ] INFO  Version                - Redisson 3.23.4
24-08-18.14:29:16.384 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:29:16.764 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:29:17.216 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-18.14:29:18.585 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-18.14:29:18.599 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-18.14:29:19.253 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-18.14:29:24.118 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-18.14:29:24.133 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-18.14:29:24.133 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-18.14:29:24.135 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-18.14:29:24.136 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-18.14:29:24.136 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-18.14:29:24.136 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-18.14:29:24.136 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@611d867
24-08-18.14:29:24.311 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-18.14:29:24.440 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-18.14:29:24.727 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#122bfaac:0/SimpleConnection@1540b926 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 63118]
24-08-18.14:29:25.065 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-18.14:29:25.067 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-18.14:29:25.084 [main            ] INFO  RaffleActivityAccountMonthTest - Started RaffleActivityAccountMonthTest in 13.525 seconds (JVM running for 14.685)
24-08-18.14:29:25.162 [main            ] ERROR TestContextManager     - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@495b0487] to prepare test instance [com.big.market.infrastructure.infrastructure.test.RaffleActivityAccountMonthTest@4d542218]
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.big.market.infrastructure.infrastructure.test.RaffleActivityAccountMonthTest': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.big.market.infrastructure.infrastructure.persistent.dao.IRaffleActivityAccountMonthDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@javax.annotation.Resource(shareable=true, lookup=, name=, description=, authenticationType=CONTAINER, type=class java.lang.Object, mappedName=)}
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.big.market.infrastructure.infrastructure.persistent.dao.IRaffleActivityAccountMonthDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@javax.annotation.Resource(shareable=true, lookup=, name=, description=, authenticationType=CONTAINER, type=class java.lang.Object, mappedName=)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:544)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329)
	... 29 common frames omitted
24-08-18.14:29:25.225 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-18.14:29:25.225 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:29:26.126 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-18.14:29:26.128 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-18.14:29:26.128 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-18.14:29:26.128 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:29:26.128 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-18.14:29:26.130 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-18.14:29:26.192 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-18.14:29:26.198 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-18.14:29:26.200 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-18.14:29:26.207 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
24-08-18.14:29:55.067 [main            ] INFO  RaffleActivityAccountMonthTest - Starting RaffleActivityAccountMonthTest using Java 1.8.0_171 on LAPTOP-6UTBSJGB with PID 9936 (started by 27132 in C:\Users\27132\Java\big-market\big-market-app)
24-08-18.14:29:55.073 [main            ] INFO  RaffleActivityAccountMonthTest - The following 1 profile is active: "dev"
24-08-18.14:29:56.607 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-18.14:29:56.613 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-18.14:29:56.680 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
24-08-18.14:29:57.237 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:29:57.254 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:29:57.528 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$42a16b4b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
24-08-18.14:29:58.740 [main            ] INFO  Version                - Redisson 3.23.4
24-08-18.14:29:59.416 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:29:59.818 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 8.138.41.137/8.138.41.137:16379
24-08-18.14:30:00.223 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-08-18.14:30:01.668 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-08-18.14:30:01.683 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
24-08-18.14:30:02.358 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
24-08-18.14:30:07.258 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
24-08-18.14:30:07.274 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
24-08-18.14:30:07.274 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
24-08-18.14:30:07.274 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
24-08-18.14:30:07.275 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

24-08-18.14:30:07.275 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
24-08-18.14:30:07.275 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
24-08-18.14:30:07.275 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6e56f5d4
24-08-18.14:30:07.430 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-18.14:30:07.556 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [8.138.41.137:5672]
24-08-18.14:30:07.877 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#681ba763:0/SimpleConnection@52c4bf29 [delegate=amqp://admin@8.138.41.137:5672/, localPort= 63219]
24-08-18.14:30:08.261 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
24-08-18.14:30:08.261 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
24-08-18.14:30:08.280 [main            ] INFO  RaffleActivityAccountMonthTest - Started RaffleActivityAccountMonthTest in 13.698 seconds (JVM running for 14.866)
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Logic SQL: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month;
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month_0 ORDER BY id ASC ;
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month_1 ORDER BY id ASC ;
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds0 ::: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month_2 ORDER BY id ASC ;
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month_0 ORDER BY id ASC ;
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month_1 ORDER BY id ASC ;
24-08-18.14:30:09.391 [main            ] INFO  ShardingSphere-SQL     - Actual SQL: ds1 ::: select id,
            user_id,
            activity_id,
            `month`,
            month_count,
            month_count_surplus,
            create_time,
            update_time
        from raffle_activity_account_month_2 ORDER BY id ASC ;
24-08-18.14:30:10.010 [scheduling-1    ] INFO  UpdateActivitySkuStockJob - 定时任务，更新活动sku库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-18.14:30:10.074 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-08-18.14:30:10.168 [main            ] INFO  RaffleActivityAccountMonthTest - 抽奖活动账户表-月次数记录有:[]
24-08-18.14:30:10.240 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:30:10.240 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-18.14:30:10.341 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-18.14:30:10.342 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
24-08-18.14:30:10.342 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
24-08-18.14:30:10.342 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
24-08-18.14:30:10.343 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
24-08-18.14:30:10.344 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-18.14:30:10.403 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-08-18.14:30:10.411 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-08-18.14:30:10.411 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
24-08-18.14:30:10.419 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
